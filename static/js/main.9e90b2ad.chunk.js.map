{"version":3,"sources":["scripts/api.js","components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["request","endPoint","fetch","then","response","json","result","data","getUser","userId","TodoList","state","titleFilter","sortTodos","random","todos","filter","todo","completed","shuffle","index","todosLength","length","Math","floor","push","splice","checkTitle","title","includes","this","props","selectedUser","selectUser","preparedTodos","className","htmlFor","type","placeholder","id","value","onChange","event","setState","target","name","classNames","onClick","map","key","readOnly","checked","React","Component","defaultProps","CurrentUser","user","loadNewUser","prevProps","clearUser","email","phone","App","selectedUserId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9e90b2ad.chunk.js","sourcesContent":["const baseUrl = 'https://mate-api.herokuapp.com';\n\nconst request = endPoint => (\n  fetch(`${baseUrl}${endPoint}`)\n    .then(response => response.json())\n    .then(result => result.data)\n);\n\nexport const getTodos = () => request('/todos');\nexport const getUsers = () => request('/users');\nexport const getUser = userId => request(`/users/${userId}`);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\nexport class TodoList extends React.Component {\n  state = {\n    titleFilter: '',\n    sortTodos: 'all',\n    random: false,\n  }\n\n  sortTodos = (todos) => {\n    switch (this.state.sortTodos) {\n      case 'active':\n        return todos.filter(todo => !todo.completed);\n      case 'completed':\n        return todos.filter(todo => todo.completed);\n      default:\n        return todos;\n    }\n  }\n\n  shuffle = (todos) => {\n    const result = [];\n    let todosLength = todos.length;\n    let index;\n\n    while (todosLength) {\n      // eslint-disable-next-line no-plusplus\n      index = Math.floor(Math.random() * todosLength--);\n      result.push(todos.splice(index, 1)[0]);\n    }\n\n    return result;\n  }\n\n  checkTitle = (title, titleFilter) => title && title.includes(titleFilter);\n\n  render() {\n    const {\n      selectedUser,\n      selectUser,\n      todos,\n    } = this.props;\n\n    const { titleFilter, sortTodos, random } = this.state;\n\n    let preparedTodos = this.sortTodos([...todos]);\n\n    if (random) {\n      preparedTodos = this.shuffle(preparedTodos);\n    }\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <label htmlFor=\"filterByTitle\">\n          {`Filter todos by title `}\n          <input\n            className=\"sorting-input\"\n            type=\"text\"\n            placeholder=\"Enter a query\"\n            id=\"filterByTitle\"\n            value={titleFilter}\n            onChange={(event) => {\n              this.setState({ titleFilter: event.target.value });\n            }}\n          />\n        </label>\n\n        <select\n          className=\"sorting-input\"\n          name=\"sortingTodos\"\n          id=\"sortingTodos\"\n          value={sortTodos}\n          onChange={(event) => {\n            this.setState({ sortTodos: event.target.value });\n          }}\n        >\n          <option value=\"all\">Show all todos</option>\n          <option value=\"active\">Show uncompleted todos</option>\n          <option value=\"completed\">Show completed todos</option>\n        </select>\n\n        <button\n          type=\"button\"\n          className={classNames(\n            'sorting-input',\n            {\n              'randomize-active': random,\n              'randomize-inactive': !random,\n            },\n          )}\n          onClick={() => {\n            this.setState(state => (\n              { random: !state.random }\n            ));\n          }}\n        >\n          Randomize\n        </button>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {preparedTodos.map(todo => (\n              this.checkTitle(todo.title, titleFilter) ? (\n                <li\n                  className={classNames(\n                    'TodoList__item',\n                    {\n                      'TodoList__item--checked': todo.completed,\n                      'TodoList__item--unchecked': !todo.completed,\n                    },\n                  )}\n                  key={todo.id}\n                >\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      readOnly\n                      checked={todo.completed}\n                    />\n                    <p>{todo.title}</p>\n                  </label>\n\n                  <button\n                    className={classNames(\n                      'TodoList__user-button', 'button',\n                      { 'TodoList__user-button--selected':\n                        selectedUser === todo.userId },\n                    )}\n                    type=\"button\"\n                    onClick={() => {\n                      selectUser(todo.userId);\n                    }}\n                  >\n                    {todo.userId ? (\n                      <>\n                        User&nbsp;#\n                        {todo.userId}\n                      </>\n                    ) : (\n                      <>\n                        not assigned\n                      </>\n                    )}\n                  </button>\n                </li>\n              ) : (\n                null\n              )\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      completed: PropTypes.bool,\n      userId: PropTypes.number,\n    }),\n  ),\n  selectedUser: PropTypes.number,\n  selectUser: PropTypes.func.isRequired,\n};\n\nTodoList.defaultProps = {\n  todos: [],\n  selectedUser: 0,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import classNames from 'classnames';\nimport { getUser } from '../../scripts/api';\nimport './CurrentUser.scss';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: null,\n  }\n\n  componentDidMount() {\n    this.loadNewUser();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadNewUser();\n    }\n  }\n\n  loadNewUser = () => {\n    getUser(this.props.userId)\n      .then((user) => {\n        this.setState({ user });\n      });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { clearUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        {user ? (\n          <>\n            <h2 className=\"CurrentUser__title\">\n              <span>\n                {`Selected user: ${user.id}`}\n              </span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">\n              {user.name}\n            </h3>\n            <p className=\"CurrentUser__email\">\n              {user.email}\n            </p>\n            <p className=\"CurrentUser__phone\">\n              {user.phone}\n            </p>\n\n            <button\n              className=\"CurrentUser__clear button\"\n              type=\"button\"\n              onClick={() => {\n                clearUser();\n              }}\n            >\n              Clear selected user\n            </button>\n          </>\n        ) : (\n          <>\n            Loading...\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { getTodos } from './scripts/api';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({ todos });\n      });\n  }\n\n  selectUser = (userId) => {\n    this.setState({ selectedUserId: userId });\n  }\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectedUser={selectedUserId}\n            selectUser={this.selectUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser userId={selectedUserId} clearUser={this.clearUser} />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}